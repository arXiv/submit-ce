{% extends "submit/base.html" %}

{% block title -%}Add or Edit Metadata{%- endblock title %}

{% block within_content %}
<form method="POST" action="{{ url_for('ui.add_metadata', submission_id=submission_id) }}">
  <div class="action-container">
    {{ form.csrf_token }}
    {% with field = form.title %}
    <div class="field">
      <div class="control">
        <label class="label" for="title">{{ field.label.text }} <a href="{{ url_for('help_metadata') }}" class="help-bubble">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon filter-blue" role="presentation"><path d="M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"/></svg>
          <div class="bubble-text">Unicode, TeX accent characters, and MathJax are supported. Click for detailed information.</div></a></label>
        {% if field.errors %}
          <div class="help is-danger field-error">
            {% for error in field.errors %}
                {{ error }}
            {% endfor %}
          </div>
        {% endif %}
        {% if field.description %}
        <p class="help has-text-grey is-marginless">
          {{ field.description|safe }}
        </p>
        {% endif %}
        {% if field.errors %}
          {{ field(class="input is-danger")|safe }}
        {% else %}
          {{ field(class="input")|safe }}
        {% endif %}
      </div>
    </div>
    {% endwith %}

    {% with field = form.authors_display %}
    <div class="field">
      <div class="control">
        <label class="label" for="authors_display">{{ field.label.text }} <a href="{{ url_for('help_metadata') }}" class="help-bubble">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon filter-blue" role="presentation"><path d="M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"/></svg>
          <div class="bubble-text">Click for detailed information on author name formatting.</div></a></label>
        {% if field.errors %}
          <div class="help is-danger field-error">
            {% for error in field.errors %}
                {{ error }}
            {% endfor %}
          </div>
        {% endif %}
        {% if field.description %}
        <p class="help has-text-grey is-marginless">
          {{ field.description|safe }}
        </p>
        {% endif %}
        {% if field.errors %}
          {{ field(class="textarea is-danger")|safe }}
        {% else %}
          {{ field(class="textarea")|safe }}
        {% endif %}
      </div>
    </div>
    {% endwith %}

    {% with field = form.abstract %}
    <div class="field">
      <div class="control">
        <label class="label" for="abstract">{{ field.label.text }} <a href="{{ url_for('help_metadata') }}" class="help-bubble">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon filter-blue" role="presentation"><path d="M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"/></svg>
          <div class="bubble-text">Unicode, TeX accent characters, and MathJax are supported. Click for detailed information.</div></a></label>
        {% if field.errors %}
          <div class="help is-danger field-error">
            {% for error in field.errors %}
                {{ error }}
            {% endfor %}
          </div>
        {% endif %}
        {% if field.description %}
        <p class="help has-text-grey is-marginless">
          {{ field.description|safe }}
        </p>
        {% endif %}
        {% if field.errors %}
          {{ field(class="textarea is-danger")|safe }}
        {% else %}
          {{ field(class="textarea")|safe }}
        {% endif %}
      </div>
    </div>
    {% endwith %}

    {% with field = form.comments %}
    <div class="field">
      <div class="control">
        <label class="label" for="comments">{{ field.label.text }} <a href="{{ url_for('help_metadata') }}" class="help-bubble">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="icon filter-blue" role="presentation"><path d="M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"/></svg>
          <div class="bubble-text">Unicode, TeX accent characters. and MathJax are supported. Click for detailed information.</div></a></label>
        {% if field.errors %}
          <div class="help is-danger field-error">
            {% for error in field.errors %}
                {{ error }}
            {% endfor %}
          </div>
        {% endif %}
        {% if field.description %}
        <p class="help has-text-grey is-marginless">
          {{ field.description|safe }}
        </p>
        {% endif %}
        {% if field.errors %}
          {{ field(class="input is-danger")|safe }}
        {% else %}
          {{ field(class="input")|safe }}
        {% endif %}
      </div>
    </div>
    {% endwith %}
  </div>
  {{ submit_macros.submit_nav(submission_id) }}
</form>
{% endblock within_content %}
